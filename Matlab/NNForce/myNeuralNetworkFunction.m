function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 14-May-2019 11:58:35.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 4xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Layer 1
b1 = [97.243408939628579901;-60.616674975126471736;13.497251582011097426;-13.757291742452453676;77.012502455966895809;-3.246194641803489489;-36.931513609239956963;47.024377581041335361;-45.207352146838005069;33.034415072339555763;56.798202015497494699;-15.674464101083540157;94.886188281334582939;-20.871825966342811398;-0.30033183763620524553;-10.481360578545844575;-60.308222687733945122;76.808081639193602541;69.363281038490370634;54.679482039953811068];
IW1_1 = [-44.597491649385304413 -39.649984267763187518 -21.34869287409563654 -62.230336426734268684;-28.103710056419892283 38.397095661388036092 47.641780914446322015 53.895983145259883429;-22.75997382802133373 -31.232022679745561788 -35.133440001250576756 68.290372682081837752;-58.118919932128164874 54.225271946582182636 43.701287113348392666 -13.681996982747818947;-57.760834309382381946 -50.10238786963268609 20.712132921695936005 -46.124593119016104481;-74.368135842906099242 9.9018036019101494105 58.697840388825987645 14.555826701623619357;70.817701916514053551 -28.24746561919734944 -26.702897493367082404 50.607803186021854458;-26.429748116336018171 -35.017794002253722851 -64.384311502248834813 38.324636602766503302;65.867531502553404721 6.864949356530899216 -42.76031749025677442 51.064763327713407648;-44.824421387307111786 -61.587781690379998167 1.9909438956972291823 46.23166163485603164;35.501093718466400162 -37.009262634587571483 -48.707507181107445149 -51.584841008895210734;20.08572516594716717 -58.56886756078336731 7.4998854223994575463 59.802408426339532355;-71.539881264559710417 -20.356783863724793093 -26.153444099546586443 -55.32892802301035573;33.644032656016435112 41.913901197356231876 26.126243168373214587 -64.028070402674160277;-80.054103924720138252 2.3889451550805609337 49.348475365949362015 27.357841390569525686;31.750770368529746435 49.710718361803628795 -63.537294308004234722 5.3661618974284124306;63.932509821405872685 64.391991188759035936 -21.894673693284602223 3.8985468383001053994;-36.1078489610370994 -72.237947597215708129 -32.97282136273959452 1.6202183317719842659;20.298484711773642886 -35.212059821791044101 -52.67567533941593183 -55.014287456813718791;17.935041723325877427 2.6073942569396599822 -70.417454056152052999 -45.460852368856038197];

% Layer 2
b2 = [1.4436814234615522601;-1.6386663906236351718;1.0180317069010667019;0.47469075890133927143;0.44736324574787789121;0.053575076805336990793;-0.91258125792204181082;0.071416839522218319991;1.7471909502388214275;1.9323174073887612323];
LW2_1 = [-0.63586371236511474159 0.51137068704017674126 0.18976951897074859077 2.4286460746474092254 -0.72729638524814721467 -0.52907527176809243663 -1.557398269430421589 0.97611647046222826951 -0.63325668347779429102 1.1167346300234024525 0.31356428599022012627 3.2802382222963784031 -0.64995916940832709763 1.7488506740112705895 0.15875935388805725856 0.71231129341306498315 0.37832584540335395529 0.49506611019626978187 -0.27207702169408498616 0.64905217852137675472;0.021736346455452464077 0.53595530463662677256 0.23286741433272759028 -1.2209582301357202461 0.33063049122356558129 -1.190646518896004924 1.9906385418797347686 -0.58009704967637776285 -0.49054294710010482028 0.72074107813844812132 -0.33166159268314171493 -2.3661826912592993644 0.8955182272885554573 -0.27748053873002209713 -0.93796540924076765577 0.99153085445717914492 -0.20084715930980676091 -0.67115051868938391255 -0.94325946918863778912 -0.45783342994406828197;-0.32893882747540142963 -0.51238748762653496538 1.0877931617715870249 -0.64157693358024636687 0.44527271440841920125 -1.1466235168013694246 -2.2274960038576088195 -0.44636100457779404049 0.96249569373363086378 -0.90332745396966418472 -0.75082145426481927686 0.4260100689921529904 0.44779296652611472185 0.45408618606992923183 -0.098567069305354484965 -0.6927498059239854955 0.056555826053002702936 -0.9162433828297881222 0.58068539462540225138 -0.26267326608355318074;-0.55149348153182264909 -0.44550754743645981648 -0.0095782085396207451711 0.14777274057641870408 0.5003446981347117184 -0.3596985132467464541 -0.44930597828134433147 -0.59798443841134851784 0.71671908308487752848 0.94983707335036393626 0.0018752383511342271549 -0.44765307578181595671 -0.38760516744942419276 1.4383657295549918675 0.22001239221731519469 -1.3612024469306229779 -0.42674114091920273273 0.21599443352049832456 0.55143727812453224857 0.40041683032342539894;0.80290509809027910126 -1.3537227294126801258 3.3658848012008171224 1.6273327652722289205 0.16724624397281251387 0.89322818388574920512 -0.88210922706592598264 2.0291300338205169318 -0.63523725525531593572 -1.891221893593698411 0.83385988265145438714 4.0778910598540463184 -3.1679264451321165197 0.45309948098460223198 0.94259991398697262621 -1.0373505119181778422 0.12189977018715153489 -0.30495912742359293501 0.54299852363476752704 0.76112664141557795361;0.12513812278231464803 0.81748164170937753781 0.48157943725751223285 0.063733401705273931559 0.32304299000799707731 -1.2954904799412574334 0.64638809982844880331 0.79848680550045803006 -0.8069538849392252633 -0.80453530714241783262 -0.52768932210659202919 0.67094558135160375922 0.84288991457682049813 -1.2019894989111985506 -0.76664000300770385188 0.2696579568239586 0.24616488571046915568 -0.2781249570927796233 -0.0095945329567522046055 0.25935210783201756435;-0.8244577303158442394 0.3067811208238874765 -0.18109267614757937337 -0.92638923212516821604 -0.57773649484137035159 1.5538443246758901761 -0.18565160426819035666 -0.40566437430205448678 -2.6110557536199761053 -2.6042213734582393414 2.4355431561521005968 0.78910082726551489252 -0.8588419122845529774 -4.4584532732180237602 0.99894421898593532827 1.4826889672670031661 2.2830234442009116336 -0.59163678694717969364 -1.4960975732365817681 -0.86777774105380034442;-0.70205227594416053094 0.48064210798425777149 1.1495449442194161094 0.048946145016797296123 0.3337414021314621948 -0.7125071870372471361 -0.048355428427335089836 0.15784906192744593834 0.078578681500385161307 -1.2285989262324248372 -0.47100939891754523003 -0.48023890308176941932 -0.26969231196239185078 -0.37468801161646309028 -0.38102997067088156813 -0.93410306196045822524 -0.73093424805826356927 0.11662639952518651099 0.32372405628063760652 -0.4596704898896801228;0.79153416023192946227 -0.47454355428758648872 -1.9340775486434189645 -0.96434662140038052147 -0.028076593161996149517 1.1293123367334323426 -0.70569691119935507029 1.5991210960464579127 -0.18822161068540627094 1.5336811580471962912 0.46192093211093920857 0.66641017007097835823 0.20448402947743160585 0.49002216016153055111 0.5034778242336804821 0.52643983382550396666 0.72659805091043727643 -0.91597861677672587355 0.12127285726702391466 0.086832989260417145494;0.68407370830404279349 0.094888938639514586182 0.5776792543635306254 0.86598490522342552733 0.3345883589118766599 0.22580691028401866927 1.3560727572468243007 -0.37212053644839870881 1.1993761467095254147 -0.0019653478696663889171 0.23675513398185971115 -0.54710115882181764579 -0.38340365889166927449 -0.053491544599389387327 0.031999753862050075992 0.073972426111491310086 -0.21299830339895786668 0.20307874138478423931 -0.10054224799332453499 -0.68194860223745545902];

% Layer 3
b3 = [-0.25344621140194006914;0.96376624828326096228];
LW3_2 = [2.366357175929844292 1.4099866508128306997 -0.16617563009374763938 -0.31347184112242704179 0.073242287402493944093 -0.4730266412747242688 0.01955376779963049691 1.0350548482197765576 1.2281324604999412919 -1.0379213543559062671;-1.8458505119563271002 0.6939615821821388808 -0.040252477990415591602 -0.73679278247806812008 0.070300163524294800865 -0.5725266594444761159 -0.090286545340977977792 -0.74761144837624904369 -0.62737293895000700861 1.4497190195395377454];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
% no processing

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*x1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);

% Output 1
y1 = a3;
end

% ===== MODULE FUNCTIONS ========

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end
